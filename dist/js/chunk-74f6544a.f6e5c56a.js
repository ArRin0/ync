(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74f6544a"],{"02f4":function(t,s,e){var a=e("4588"),i=e("be13");t.exports=function(t){return function(s,e){var n,c,r=String(i(s)),l=a(e),o=r.length;return l<0||l>=o?t?"":void 0:(n=r.charCodeAt(l),n<55296||n>56319||l+1===o||(c=r.charCodeAt(l+1))<56320||c>57343?t?r.charAt(l):n:t?r.slice(l,l+2):c-56320+(n-55296<<10)+65536)}}},"0390":function(t,s,e){"use strict";var a=e("02f4")(!0);t.exports=function(t,s,e){return s+(e?a(t,s).length:1)}},"0bfb":function(t,s,e){"use strict";var a=e("cb7c");t.exports=function(){var t=a(this),s="";return t.global&&(s+="g"),t.ignoreCase&&(s+="i"),t.multiline&&(s+="m"),t.unicode&&(s+="u"),t.sticky&&(s+="y"),s}},"11e9":function(t,s,e){var a=e("52a7"),i=e("4630"),n=e("6821"),c=e("6a99"),r=e("69a8"),l=e("c69a"),o=Object.getOwnPropertyDescriptor;s.f=e("9e1e")?o:function(t,s){if(t=n(t),s=c(s,!0),l)try{return o(t,s)}catch(e){}if(r(t,s))return i(!a.f.call(t,s),t[s])}},"214f":function(t,s,e){"use strict";e("b0c5");var a=e("2aba"),i=e("32e9"),n=e("79e5"),c=e("be13"),r=e("2b4c"),l=e("520a"),o=r("species"),u=!n(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),d=function(){var t=/(?:)/,s=t.exec;t.exec=function(){return s.apply(this,arguments)};var e="ab".split(t);return 2===e.length&&"a"===e[0]&&"b"===e[1]}();t.exports=function(t,s,e){var v=r(t),p=!n(function(){var s={};return s[v]=function(){return 7},7!=""[t](s)}),f=p?!n(function(){var s=!1,e=/a/;return e.exec=function(){return s=!0,null},"split"===t&&(e.constructor={},e.constructor[o]=function(){return e}),e[v](""),!s}):void 0;if(!p||!f||"replace"===t&&!u||"split"===t&&!d){var m=/./[v],b=e(c,v,""[t],function(t,s,e,a,i){return s.exec===l?p&&!i?{done:!0,value:m.call(s,e,a)}:{done:!0,value:t.call(e,s,a)}:{done:!1}}),g=b[0],_=b[1];a(String.prototype,t,g),i(RegExp.prototype,v,2==s?function(t,s){return _.call(t,this,s)}:function(t){return _.call(t,this)})}}},3323:function(t,s,e){"use strict";var a=e("c33a"),i=e.n(a);i.a},"3b2b":function(t,s,e){var a=e("7726"),i=e("5dbc"),n=e("86cc").f,c=e("9093").f,r=e("aae3"),l=e("0bfb"),o=a.RegExp,u=o,d=o.prototype,v=/a/g,p=/a/g,f=new o(v)!==v;if(e("9e1e")&&(!f||e("79e5")(function(){return p[e("2b4c")("match")]=!1,o(v)!=v||o(p)==p||"/a/i"!=o(v,"i")}))){o=function(t,s){var e=this instanceof o,a=r(t),n=void 0===s;return!e&&a&&t.constructor===o&&n?t:i(f?new u(a&&!n?t.source:t,s):u((a=t instanceof o)?t.source:t,a&&n?l.call(t):s),e?this:d,o)};for(var m=function(t){t in o||n(o,t,{configurable:!0,get:function(){return u[t]},set:function(s){u[t]=s}})},b=c(u),g=0;b.length>g;)m(b[g++]);d.constructor=o,o.prototype=d,e("2aba")(a,"RegExp",o)}e("7a56")("RegExp")},"520a":function(t,s,e){"use strict";var a=e("0bfb"),i=RegExp.prototype.exec,n=String.prototype.replace,c=i,r="lastIndex",l=function(){var t=/a/,s=/b*/g;return i.call(t,"a"),i.call(s,"a"),0!==t[r]||0!==s[r]}(),o=void 0!==/()??/.exec("")[1],u=l||o;u&&(c=function(t){var s,e,c,u,d=this;return o&&(e=new RegExp("^"+d.source+"$(?!\\s)",a.call(d))),l&&(s=d[r]),c=i.call(d,t),l&&c&&(d[r]=d.global?c.index+c[0].length:s),o&&c&&c.length>1&&n.call(c[0],e,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(c[u]=void 0)}),c}),t.exports=c},"5dbc":function(t,s,e){var a=e("d3f4"),i=e("8b97").set;t.exports=function(t,s,e){var n,c=s.constructor;return c!==e&&"function"==typeof c&&(n=c.prototype)!==e.prototype&&a(n)&&i&&i(t,n),t}},"5f1b":function(t,s,e){"use strict";var a=e("23c6"),i=RegExp.prototype.exec;t.exports=function(t,s){var e=t.exec;if("function"===typeof e){var n=e.call(t,s);if("object"!==typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==a(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,s)}},65824:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"user-list"},[e("dl",[e("dt",[t._v(t._s(t.title)+"+"+t._s(t.sessionList.length))]),t._l(t.sessionList,function(s){return e("dd",{key:s.id,on:{click:function(e){return t.doClick(s)}}},[t._m(0,!0),e("div",{staticClass:"msg-info"},[e("div",{staticClass:"user-info"},[e("span",{staticClass:"user"},[t._v(t._s(s.visitorName))]),e("span",{staticClass:"msg-time"},[t._v(t._s(s.createTime))])]),e("div",{staticClass:"msg-latest"},[t._v(t._s(s.content))])])])})],2)])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"user-img"},[e("i",{staticClass:"iconfont icon-beizit"})])}],n={name:"SessionList",props:["type","sessionList"],methods:{doClick:function(t){this.$emit("selectedSession",t)}},data:function(){return{title:"current"==this.type?"当前会话":"历史会话"}},created:function(){var t=JSON.parse(localStorage.getItem("user")),s=t.id,e="current"==this.type?0:1;this.$axios.get("/session/list?customerServiceId=".concat(s,"&type=").concat(e,"&pageNum=1")).then(function(t){t.data})}},c=n,r=(e("3323"),e("2877")),l=Object(r["a"])(c,a,i,!1,null,null,null);s["a"]=l.exports},"76f6":function(t,s,e){"use strict";var a=e("cf7ef"),i=e.n(a);i.a},8628:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"session-box"},[e("div",{staticClass:"session-head"},[t._m(0),e("div",{staticClass:"dialog-btns"},[e("span",{staticClass:"dialog-btn",on:{click:t.createOrder}},[e("i",{staticClass:"iconfont icon-add"}),t._v("创建工单")]),t._m(1),t._m(2),t._m(3)])]),e("div",{staticClass:"session-body"},[e("div",{staticClass:"session-main-body"},[e("div",{staticClass:"session-window"},t._l(t.msgs,function(s){return e("div",{key:s.id,staticClass:"session-msg sender"},[t._m(4,!0),e("div",{staticClass:"msg-detail"},[e("div",{staticClass:"msg-title"},[e("span",{staticClass:"user-name"},[t._v(t._s(s.msgSenderName))]),e("span",{staticClass:"msg-time"},[t._v(t._s(s.createTime))])]),e("div",{staticClass:"msg-content"},[t._v(t._s(s.content))])])])}),0),e("div",{staticClass:"session-input"},[t._m(5),e("div",{staticClass:"input-box"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{id:"msg",placeholder:"请输入内容"},domProps:{value:t.content},on:{input:function(s){s.target.composing||(t.content=s.target.value)}}})]),e("div",{staticClass:"input-btn"},[e("button",{attrs:{type:"button"},on:{click:t.sendMsg}},[t._v("发送")])])])]),t._m(6)]),e("el-dialog",{attrs:{title:"创建工单",visible:t.orderDialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(s){t.orderDialogVisible=s}}},[e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"工单分类"}},[e("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:t.form.region,callback:function(s){t.$set(t.form,"region",s)},expression:"form.region"}},[e("el-option",{attrs:{label:"区域一",value:"shanghai"}}),e("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),e("el-form-item",{attrs:{label:"工单标题"}},[e("el-input",{model:{value:t.form.name,callback:function(s){t.$set(t.form,"name",s)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"工单描述"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.form.desc,callback:function(s){t.$set(t.form,"desc",s)},expression:"form.desc"}})],1),e("el-form-item",{attrs:{label:"附件"}},[e("el-upload",{staticClass:"upload-demo",attrs:{action:"http://localhost:8080/ccs//oss/file/upload/","on-success":t.handleAvatarSuccess,multiple:"",limit:3}},[e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),e("el-form-item",{attrs:{label:"抄送人"}},[e("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:t.form.region,callback:function(s){t.$set(t.form,"region",s)},expression:"form.region"}},[e("el-option",{attrs:{label:"区域一",value:"shanghai"}}),e("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),e("el-form-item",{attrs:{label:"优先级"}},[e("el-radio-group",{model:{value:t.form.resource,callback:function(s){t.$set(t.form,"resource",s)},expression:"form.resource"}},[e("el-radio",{attrs:{label:"线上品牌商赞助"}}),e("el-radio",{attrs:{label:"线下场地免费"}})],1)],1),e("el-form-item",{attrs:{label:"工单状态"}},[e("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:t.form.region,callback:function(s){t.$set(t.form,"region",s)},expression:"form.region"}},[e("el-option",{attrs:{label:"区域一",value:"shanghai"}}),e("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"}},[t._v("立即创建")]),e("el-button",[t._v("取消")])],1)],1)],1)],1)},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"user-info"},[e("span",{staticClass:"user-name"},[t._v("北京客户")]),e("span",{staticClass:"session-index"},[t._v("首次会话")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"dialog-btn"},[e("i",{staticClass:"iconfont icon-fanhui"}),t._v("转接")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"dialog-btn"},[e("i",{staticClass:"iconfont icon-lahei"}),t._v("拉黑")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"dialog-btn"},[e("i",{staticClass:"iconfont icon-jieshu"}),t._v("结束会话")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"user-img"},[e("i",{staticClass:"iconfont icon-beizit"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"icon-img"},[e("span",{staticClass:"icon"},[e("i",{staticClass:"iconfont icon-xiaolian1"})]),e("span",{staticClass:"file"},[e("i",{staticClass:"iconfont icon-tupian"})])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"session-util-tab"},[e("dl",[e("dt",{staticClass:"tabs"},[e("span",{staticClass:"tab-title active"},[t._v("资料")]),e("span",{staticClass:"tab-title"},[t._v("常用语")]),e("span",{staticClass:"tab-title"},[t._v("历史工单")])]),e("dd",[e("div",{staticClass:"tab-content active"},[e("dl",{staticClass:"customer-device"},[e("dt",[t._v("访客信息")]),e("dd",[e("span",{staticClass:"label"},[t._v("来源")]),e("span",{staticClass:"item"},[t._v("113.128.230.51")])]),e("dd",[e("span",{staticClass:"label"},[t._v("IP地址")]),e("span",{staticClass:"item"},[t._v("113.128.230.51")])]),e("dd",[e("span",{staticClass:"label"},[t._v("浏览器")]),e("span",{staticClass:"item"},[t._v("Chrome 81.0.4044.138")])]),e("dd",[e("span",{staticClass:"label"},[t._v("屏幕尺寸")]),e("span",{staticClass:"item"},[t._v("1440 x 900")])]),e("dd",[e("span",{staticClass:"label"},[t._v("设备")]),e("span",{staticClass:"item"},[t._v("Mac")])])]),e("dl",{staticClass:"customer-info"},[e("dt",[t._v("客户信息"),e("button",[e("i",{staticClass:"iconfont icon-2bianji"}),t._v("编辑")])]),e("dd",[e("span",{staticClass:"label"},[t._v("客户名称")]),e("span",{staticClass:"item"},[t._v("北京市客户")])]),e("dd",[e("span",{staticClass:"label"},[t._v("真实姓名")]),e("span",{staticClass:"item"},[t._v("王伟")])]),e("dd",[e("span",{staticClass:"label"},[t._v("客户电话")]),e("span",{staticClass:"item"},[t._v("—")])]),e("dd",[e("span",{staticClass:"label"},[t._v("客户邮箱")]),e("span",{staticClass:"item"},[t._v("—")])]),e("dd",[e("span",{staticClass:"label"},[t._v("客户公司")]),e("span",{staticClass:"item"},[t._v("—")])]),e("dd",[e("span",{staticClass:"label"},[t._v("客户地址")]),e("span",{staticClass:"item"},[t._v("—")])]),e("dd",[e("span",{staticClass:"label"},[t._v("客户等级")]),e("span",{staticClass:"item"},[t._v("普通客户")])]),e("dd",[e("span",{staticClass:"label"},[t._v("客户来源")]),e("span",{staticClass:"item"},[t._v("访客转化")])]),e("dd",[e("span",{staticClass:"label"},[t._v("客户备注")]),e("span",{staticClass:"item"},[t._v("—")])]),e("dd",[e("span",{staticClass:"label"},[t._v("客户标签")]),e("span",{staticClass:"item"},[e("span",[t._v("已上市")]),e("span",[t._v("潜在客户")])])])])]),e("div",{staticClass:"tab-content active"},[t._v("常用语")]),e("div",{staticClass:"tab-content"},[e("dl",{staticClass:"customer-info"},[e("dt",[t._v("工单信息")]),e("dd",[e("span",{staticClass:"label"},[t._v("工单标题")]),e("span",{staticClass:"item"},[t._v("分类一")])]),e("dd",[e("span",{staticClass:"label"},[t._v("工单描述")]),e("span",{staticClass:"item"},[t._v("客户需要型号SU-CC8990的产品")])]),e("dd",[e("span",{staticClass:"label"},[t._v("工单分类")]),e("span",{staticClass:"item"},[t._v("分类一")])]),e("dd",[e("span",{staticClass:"label"},[t._v("抄送人")]),e("span",{staticClass:"item"},[t._v("王涛，吴敏儿")])]),e("dd",[e("span",{staticClass:"label"},[t._v("优先级")]),e("span",{staticClass:"item"},[t._v("低")])]),e("dd",[e("span",{staticClass:"label"},[t._v("工单状态")]),e("span",{staticClass:"item"},[t._v("处理中")])]),e("dd",[e("span",{staticClass:"label"},[t._v("受理客服组")]),e("span",{staticClass:"item"},[t._v("客服组一")])]),e("dd",[e("span",{staticClass:"label"},[t._v("受理客户")]),e("span",{staticClass:"item"},[t._v("王先生")])]),e("dd",[e("span",{staticClass:"label"},[t._v("创建时间")]),e("span",{staticClass:"item"},[t._v("2020/06/09 20:09")])]),e("dd",[e("span",{staticClass:"label"},[t._v("更新时间")]),e("span",{staticClass:"item"},[t._v("2020/06/09 20:09")])]),e("dd",{staticClass:"detail"},[t._v("查看工单时间"),e("i",{staticClass:"iconfont icon-xiangqing"})])])])])])])}];e("c466");var n={name:"SessionWindow",props:["session","msgs","socket"],data:function(){return{orderDialogVisible:!1,form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},content:"",cs:null}},created:function(){var t=localStorage.getItem("user");this.cs=JSON.parse(t)},methods:{createOrder:function(){this.orderDialogVisible=!0},handleClose:function(){this.orderDialogVisible=!1},handleAvatarSuccess:function(t){console.log(t)},sendMsg:function(){var t={content:this.content,msgSenderId:this.cs.id,msgSenderName:this.cs.nickName,msgReceiverId:this.session.visitorId,sessionId:this.session.id,createTime:(new Date).format("yyyy-MM-dd hh:mm:ss")};this.socket.send(JSON.stringify(t)),this.msgs.push(t),this.content=""}}},c=n,r=(e("76f6"),e("2877")),l=Object(r["a"])(c,a,i,!1,null,null,null);s["a"]=l.exports},"8b97":function(t,s,e){var a=e("d3f4"),i=e("cb7c"),n=function(t,s){if(i(t),!a(s)&&null!==s)throw TypeError(s+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,s,a){try{a=e("9b43")(Function.call,e("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),s=!(t instanceof Array)}catch(i){s=!0}return function(t,e){return n(t,e),s?t.__proto__=e:a(t,e),t}}({},!1):void 0),check:n}},9093:function(t,s,e){var a=e("ce10"),i=e("e11e").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(t){return a(t,i)}},a481:function(t,s,e){"use strict";var a=e("cb7c"),i=e("4bf8"),n=e("9def"),c=e("4588"),r=e("0390"),l=e("5f1b"),o=Math.max,u=Math.min,d=Math.floor,v=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,f=function(t){return void 0===t?t:String(t)};e("214f")("replace",2,function(t,s,e,m){return[function(a,i){var n=t(this),c=void 0==a?void 0:a[s];return void 0!==c?c.call(a,n,i):e.call(String(n),a,i)},function(t,s){var i=m(e,t,this,s);if(i.done)return i.value;var d=a(t),v=String(this),p="function"===typeof s;p||(s=String(s));var g=d.global;if(g){var _=d.unicode;d.lastIndex=0}var h=[];while(1){var C=l(d,v);if(null===C)break;if(h.push(C),!g)break;var x=String(C[0]);""===x&&(d.lastIndex=r(v,n(d.lastIndex),_))}for(var y="",E=0,$=0;$<h.length;$++){C=h[$];for(var S=String(C[0]),w=o(u(c(C.index),v.length),0),k=[],R=1;R<C.length;R++)k.push(f(C[R]));var O=C.groups;if(p){var j=[S].concat(k,w,v);void 0!==O&&j.push(O);var M=String(s.apply(void 0,j))}else M=b(S,v,w,k,O,s);w>=E&&(y+=v.slice(E,w)+M,E=w+S.length)}return y+v.slice(E)}];function b(t,s,a,n,c,r){var l=a+t.length,o=n.length,u=p;return void 0!==c&&(c=i(c),u=v),e.call(r,u,function(e,i){var r;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return s.slice(0,a);case"'":return s.slice(l);case"<":r=c[i.slice(1,-1)];break;default:var u=+i;if(0===u)return e;if(u>o){var v=d(u/10);return 0===v?e:v<=o?void 0===n[v-1]?i.charAt(1):n[v-1]+i.charAt(1):e}r=n[u-1]}return void 0===r?"":r})}})},aae3:function(t,s,e){var a=e("d3f4"),i=e("2d95"),n=e("2b4c")("match");t.exports=function(t){var s;return a(t)&&(void 0!==(s=t[n])?!!s:"RegExp"==i(t))}},b0c5:function(t,s,e){"use strict";var a=e("520a");e("5ca1")({target:"RegExp",proto:!0,forced:a!==/./.exec},{exec:a})},c33a:function(t,s,e){},c466:function(t,s,e){"use strict";e.r(s);e("3b2b"),e("a481");Date.prototype.format=function(t){var s={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var e in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),s)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?s[e]:("00"+s[e]).substr((""+s[e]).length)));return t}},cf7ef:function(t,s,e){}}]);
//# sourceMappingURL=chunk-74f6544a.f6e5c56a.js.map