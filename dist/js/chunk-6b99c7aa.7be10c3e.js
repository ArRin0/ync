(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b99c7aa"],{"3b4e":function(s,e,o){"use strict";o.r(e);var t=function(){var s=this,e=s.$createElement,o=s._self._c||e;return o("div",{staticClass:"current-session"},[o("session-list",{attrs:{type:"current",sessionList:s.sessionList},on:{selectedSession:s.noticeWindow}}),o("session-window",{attrs:{session:s.session,msgs:s.msgs,socket:s.socket}})],1)},n=[],i=o("65824"),c=o("8628"),l={name:"CurrentSession",components:{SessionList:i["a"],SessionWindow:c["a"]},data:function(){return{session:null,socket:null,sessionList:[],msgs:[]}},methods:{noticeWindow:function(s){this.session=s,this.msgs=[]},initWebsocket:function(){var s=this;if("undefined"==typeof WebSocket)console.log("您的浏览器不支持WebSocket");else{console.log("您的浏览器支持WebSocket");var e=JSON.parse(localStorage.getItem("user")).id,o="ws://localhost:8080/ccs/webSocket/"+e+"/cs";console.log(o),null!=this.socket&&(this.socket.close(),this.socket=null),this.socket=new WebSocket(o),this.socket.onopen=function(){console.log("websocket已打开")},this.socket.onmessage=function(e){var o=JSON.parse(e.data);o.type?s.sessionList=o.sessionList:(s.msgs.push(o),console.log(s.msgs))},this.socket.onclose=function(){console.log("websocket已关闭")},this.socket.onerror=function(){console.log("websocket发生了错误")}}}},mounted:function(){this.initWebsocket()}},u=l,a=(o("7243"),o("2877")),r=Object(a["a"])(u,t,n,!1,null,null,null);e["default"]=r.exports},6386:function(s,e,o){},7243:function(s,e,o){"use strict";var t=o("6386"),n=o.n(t);n.a}}]);
//# sourceMappingURL=chunk-6b99c7aa.7be10c3e.js.map