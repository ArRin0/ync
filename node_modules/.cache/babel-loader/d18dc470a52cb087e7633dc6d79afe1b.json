{"remainingRequest":"D:\\文件夹\\项目\\html\\ync\\ync\\node_modules\\babel-loader\\lib\\index.js!D:\\文件夹\\项目\\html\\ync\\ync\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\文件夹\\项目\\html\\ync\\ync\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\文件夹\\项目\\html\\ync\\ync\\src\\pages\\index\\components\\SessionList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\文件夹\\项目\\html\\ync\\ync\\src\\pages\\index\\components\\SessionList.vue","mtime":1594438600160},{"path":"D:\\文件夹\\项目\\html\\ync\\ync\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594438590818},{"path":"D:\\文件夹\\项目\\html\\ync\\ync\\node_modules\\babel-loader\\lib\\index.js","mtime":1594438590441},{"path":"D:\\文件夹\\项目\\html\\ync\\ync\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594438590818},{"path":"D:\\文件夹\\项目\\html\\ync\\ync\\node_modules\\vue-loader\\lib\\index.js","mtime":1594438599321}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'SessionList',\n  props: [\"type\"],\n  methods: {\n    doClick: function doClick(id) {\n      this.$emit(\"selectedSession\", id);\n    }\n  },\n  data: function data() {\n    //users是登录客服相关的当前会话或者历史会话的用户信息\n    return {\n      title: this.type == 'current' ? \"当前会话\" : \"历史会话\",\n      sessions: []\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    var user = JSON.parse(localStorage.getItem(\"user\"));\n    var customerServiceId = user.id;\n    var tp = this.type == 'current' ? 0 : 1; //是否为历史会话的标示\n\n    this.$axios.get(\"/session/list?customerServiceId=\".concat(customerServiceId, \"&type=\").concat(tp, \"&pageNum=1\")).then(function (resp) {\n      var data = resp.data;\n      _this.sessions = data.result;\n    });\n  }\n};",{"version":3,"sources":["SessionList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAmBA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,KAAA,EAAA,CAAA,MAAA,CAFA;AAGA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,mBACA,EADA,EACA;AACA,WAAA,KAAA,CAAA,iBAAA,EAAA,EAAA;AACA;AAHA,GAHA;AAQA,EAAA,IAAA,EAAA,gBAAA;AACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KAAA,IAAA,IAAA,SAAA,GAAA,MAAA,GAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAKA,GAfA;AAgBA,EAAA,OAAA,EAAA,mBAAA;AAAA;;AACA,QAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA,CAAA;AACA,QAAA,iBAAA,GAAA,IAAA,CAAA,EAAA;AACA,QAAA,EAAA,GAAA,KAAA,IAAA,IAAA,SAAA,GAAA,CAAA,GAAA,CAAA,CAHA,CAGA;;AACA,SAAA,MAAA,CACA,GADA,2CACA,iBADA,mBACA,EADA,iBAEA,IAFA,CAEA,UAAA,IAAA,EAAA;AAAA,UACA,IADA,GACA,IADA,CACA,IADA;AAEA,MAAA,KAAA,CAAA,QAAA,GAAA,IAAA,CAAA,MAAA;AACA,KALA;AAMA;AA1BA,CAAA","sourcesContent":["<template>\r\n\t<div class=\"user-list\">\r\n\t\t<dl>\r\n\t\t\t<dt>{{title}}</dt>\r\n\t\t\t<dd v-for=\"session in sessions\" @click=\"doClick(session.id)\">\r\n\t\t\t\t<div class=\"user-img\">\r\n\t\t\t\t\t<i class=\"iconfont icon-beizit\"></i>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"msg-info\">\r\n\t\t\t\t\t<div class=\"user-info\"><span class=\"user\">{{session.visitorName}}</span><span class=\"msg-time\">{{session.createTime}}</span></div>\r\n\t\t\t\t\t<div class=\"msg-latest\">{{session.content}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</dd>\r\n\t\t\t\r\n\t\t</dl>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default{\r\n\t\tname:'SessionList',\r\n\t\tprops:[\"type\"],\r\n\t\tmethods:{\r\n\t\t\tdoClick(id){\r\n\t\t\t\tthis.$emit(\"selectedSession\",id)\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata:function(){\r\n\t\t\t//users是登录客服相关的当前会话或者历史会话的用户信息\r\n\t\t\treturn {\r\n\t\t\t\ttitle:this.type=='current'?\"当前会话\":\"历史会话\",\r\n\t\t\t\tsessions:[\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated:function(){\r\n\t\t\tlet user = JSON.parse(localStorage.getItem(\"user\"));\r\n\t\t\tlet customerServiceId = user.id;\r\n\t\t\tlet tp = (this.type=='current')?0:1;//是否为历史会话的标示\r\n\t\t\tthis.$axios\r\n\t\t\t.get(`/session/list?customerServiceId=${customerServiceId}&type=${tp}&pageNum=1`)\r\n\t\t\t.then(resp=>{\r\n\t\t\t\tlet {data} = resp;\r\n\t\t\t\tthis.sessions = data.result;\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.user-list{\r\n\t\twidth: 300px;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 4px;\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\t.user-list dt,.user-list dd{\r\n\t\theight: 64px;\r\n\t}\r\n\t.user-list dt{\r\n\t\tpadding-left: 16px;\r\n\t\tline-height: 64px;\r\n\t\tcolor: #333333;\r\n\t\tfont-size: 16px;\r\n\t}\r\n\t\r\n\t.user-list dd{\r\n\t\tdisplay: flex;\r\n\t\tpadding: 12px 20px;\r\n\t\tborder-bottom: 1px solid #f2f2f2;\r\n\t}\r\n\t\r\n\t.user-list .user-img{\r\n\t\twidth: 40px;\r\n\t\theight: 40px;\r\n\t\ttext-align: center;\r\n\t\tline-height: 40px;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: #e4e4e4;\r\n\t\tcolor: #FFFFFF;\r\n\t\tmargin-right: 8px;\r\n\t}\r\n\t.msg-info .user-img i{\r\n\t\t/* font-size: 13px; */\r\n\t}\r\n\t.msg-info .user-info{\r\n\t\tdisplay: flex;\r\n\t\tmargin-bottom: 4px;\r\n\t}\r\n\t.user-info .msg-time{\r\n\t\tflex: 1;\r\n\t\ttext-align: right;\r\n\t}\r\n\t.msg-info .user{\r\n\t\tfont-weight: 500;\r\n\t}\r\n\tdd .msg-info{\r\n\t\tflex: 1;\r\n\t}\r\n\t.msg-info .msg-time{\r\n\t\tfont-size: 10px;\r\n\t\tfont-weight: 300;\r\n\t\tcolor: rgba(0,0,0,.3);\r\n\t}\r\n\t\r\n\t.msg-info .msg-latest{\r\n\t\tfont-size: 12px;\r\n\t\tfont-weight: 300;\r\n\t\tcolor: rgba(0,0,0,.5);\r\n\t}\r\n\t\r\n\t.user-list dd.active{\r\n\t\tbackground-color: rgba(0, 110, 255, 0.098);\r\n\t\tborder-right: 2px solid blue;\r\n\t}\r\n</style>\r\n"],"sourceRoot":"src/pages/index/components"}]}