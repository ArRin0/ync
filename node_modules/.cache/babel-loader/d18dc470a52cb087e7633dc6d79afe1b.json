{"remainingRequest":"D:\\文件夹\\项目\\html\\ync\\ync\\node_modules\\babel-loader\\lib\\index.js!D:\\文件夹\\项目\\html\\ync\\ync\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\文件夹\\项目\\html\\ync\\ync\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\文件夹\\项目\\html\\ync\\ync\\src\\pages\\index\\components\\SessionList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\文件夹\\项目\\html\\ync\\ync\\src\\pages\\index\\components\\SessionList.vue","mtime":1593845949000},{"path":"D:\\文件夹\\项目\\html\\ync\\ync\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\文件夹\\项目\\html\\ync\\ync\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\文件夹\\项目\\html\\ync\\ync\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\文件夹\\项目\\html\\ync\\ync\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'SessionList',\n  props: [\"type\"],\n  methods: {\n    doClick: function doClick(id) {\n      this.$emit(\"selectedSession\", id);\n    }\n  },\n  data: function data() {\n    //users是登录客服相关的当前会话或者历史会话的用户信息\n    return {\n      title: this.type == 'current' ? \"当前会话\" : \"历史会话\",\n      sessions: []\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    var user = JSON.parse(localStorage.getItem(\"user\"));\n    var customerServiceId = user.id;\n    var tp = this.type == 'current' ? 0 : 1; //是否为历史会话的标示\n\n    this.$axios.get(\"/session/list?customerServiceId=\".concat(customerServiceId, \"&type=\").concat(tp, \"&pageNum=1\")).then(function (resp) {\n      var data = resp.data;\n      _this.sessions = data.result;\n    });\n  }\n};",{"version":3,"sources":["SessionList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAmBA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,KAAA,EAAA,CAAA,MAAA,CAFA;AAGA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,mBACA,EADA,EACA;AACA,WAAA,KAAA,CAAA,iBAAA,EAAA,EAAA;AACA;AAHA,GAHA;AAQA,EAAA,IAAA,EAAA,gBAAA;AACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KAAA,IAAA,IAAA,SAAA,GAAA,MAAA,GAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAKA,GAfA;AAgBA,EAAA,OAAA,EAAA,mBAAA;AAAA;;AACA,QAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA,CAAA;AACA,QAAA,iBAAA,GAAA,IAAA,CAAA,EAAA;AACA,QAAA,EAAA,GAAA,KAAA,IAAA,IAAA,SAAA,GAAA,CAAA,GAAA,CAAA,CAHA,CAGA;;AACA,SAAA,MAAA,CACA,GADA,2CACA,iBADA,mBACA,EADA,iBAEA,IAFA,CAEA,UAAA,IAAA,EAAA;AAAA,UACA,IADA,GACA,IADA,CACA,IADA;AAEA,MAAA,KAAA,CAAA,QAAA,GAAA,IAAA,CAAA,MAAA;AACA,KALA;AAMA;AA1BA,CAAA","sourcesContent":["<template>\n\t<div class=\"user-list\">\n\t\t<dl>\n\t\t\t<dt>{{title}}</dt>\n\t\t\t<dd v-for=\"session in sessions\" @click=\"doClick(session.id)\">\n\t\t\t\t<div class=\"user-img\">\n\t\t\t\t\t<i class=\"iconfont icon-beizit\"></i>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"msg-info\">\n\t\t\t\t\t<div class=\"user-info\"><span class=\"user\">{{session.visitorName}}</span><span class=\"msg-time\">{{session.createTime}}</span></div>\n\t\t\t\t\t<div class=\"msg-latest\">{{session.content}}</div>\n\t\t\t\t</div>\n\t\t\t</dd>\n\t\t\t\n\t\t</dl>\n\t</div>\n</template>\n\n<script>\n\texport default{\n\t\tname:'SessionList',\n\t\tprops:[\"type\"],\n\t\tmethods:{\n\t\t\tdoClick(id){\n\t\t\t\tthis.$emit(\"selectedSession\",id)\n\t\t\t}\n\t\t},\n\t\tdata:function(){\n\t\t\t//users是登录客服相关的当前会话或者历史会话的用户信息\n\t\t\treturn {\n\t\t\t\ttitle:this.type=='current'?\"当前会话\":\"历史会话\",\n\t\t\t\tsessions:[\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\tcreated:function(){\n\t\t\tlet user = JSON.parse(localStorage.getItem(\"user\"));\n\t\t\tlet customerServiceId = user.id;\n\t\t\tlet tp = (this.type=='current')?0:1;//是否为历史会话的标示\n\t\t\tthis.$axios\n\t\t\t.get(`/session/list?customerServiceId=${customerServiceId}&type=${tp}&pageNum=1`)\n\t\t\t.then(resp=>{\n\t\t\t\tlet {data} = resp;\n\t\t\t\tthis.sessions = data.result;\n\t\t\t})\n\t\t}\n\t}\n</script>\n\n<style>\n\t.user-list{\n\t\twidth: 300px;\n\t\tbackground-color: #fff;\n\t\tborder-radius: 4px;\n\t\tmargin-right: 10px;\n\t}\n\t.user-list dt,.user-list dd{\n\t\theight: 64px;\n\t}\n\t.user-list dt{\n\t\tpadding-left: 16px;\n\t\tline-height: 64px;\n\t\tcolor: #333333;\n\t\tfont-size: 16px;\n\t}\n\t\n\t.user-list dd{\n\t\tdisplay: flex;\n\t\tpadding: 12px 20px;\n\t\tborder-bottom: 1px solid #f2f2f2;\n\t}\n\t\n\t.user-list .user-img{\n\t\twidth: 40px;\n\t\theight: 40px;\n\t\ttext-align: center;\n\t\tline-height: 40px;\n\t\tborder-radius: 50%;\n\t\tbackground-color: #e4e4e4;\n\t\tcolor: #FFFFFF;\n\t\tmargin-right: 8px;\n\t}\n\t.msg-info .user-img i{\n\t\t/* font-size: 13px; */\n\t}\n\t.msg-info .user-info{\n\t\tdisplay: flex;\n\t\tmargin-bottom: 4px;\n\t}\n\t.user-info .msg-time{\n\t\tflex: 1;\n\t\ttext-align: right;\n\t}\n\t.msg-info .user{\n\t\tfont-weight: 500;\n\t}\n\tdd .msg-info{\n\t\tflex: 1;\n\t}\n\t.msg-info .msg-time{\n\t\tfont-size: 10px;\n\t\tfont-weight: 300;\n\t\tcolor: rgba(0,0,0,.3);\n\t}\n\t\n\t.msg-info .msg-latest{\n\t\tfont-size: 12px;\n\t\tfont-weight: 300;\n\t\tcolor: rgba(0,0,0,.5);\n\t}\n\t\n\t.user-list dd.active{\n\t\tbackground-color: rgba(0, 110, 255, 0.098);\n\t\tborder-right: 2px solid blue;\n\t}\n</style>\n"],"sourceRoot":"src/pages/index/components"}]}