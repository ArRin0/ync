{"map":"{\"version\":3,\"sources\":[\"C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"15bd6c5d-vue-loader-template\\\"}!C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--0-0!C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\src\\\\pages\\\\index\\\\current-session\\\\index.vue?vue&type=template&id=d018e210&\",\"src/pages/index/current-session/index.vue\",\"C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\pitcher.js??ref--4!C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--12-0!C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\node_modules\\\\thread-loader\\\\dist\\\\cjs.js!C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--0-0!C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\src\\\\pages\\\\index\\\\current-session\\\\index.vue?vue&type=script&lang=js&\",\"C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--0-0!C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\src\\\\pages\\\\index\\\\current-session\\\\index.vue\",\"C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\pitcher.js??ref--4!C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-1!C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\node_modules\\\\cache-loader\\\\dist\\\\cjs.js??ref--0-0!C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\asus\\\\Desktop\\\\ync\\\\src\\\\pages\\\\index\\\\current-session\\\\index.vue?vue&type=style&index=0&lang=css&\"],\"names\":[\"render\",\"_vm\",\"this\",\"_h\",\"$createElement\",\"_c\",\"_self\",\"staticClass\",\"attrs\",\"type\",\"sessionList\",\"on\",\"selectedSession\",\"noticeWindow\",\"session\",\"msgs\",\"socket\",\"staticRenderFns\",\"current_sessionvue_type_script_lang_js_\",\"name\",\"components\",\"SessionList\",\"SessionWindow\",\"data\",\"methods\",\"initWebsocket\",\"_this\",\"WebSocket\",\"console\",\"log\",\"userId\",\"JSON\",\"parse\",\"localStorage\",\"getItem\",\"id\",\"socketUrl\",\"close\",\"onopen\",\"onmessage\",\"resp\",\"push\",\"onclose\",\"onerror\",\"mounted\",\"index_current_sessionvue_type_script_lang_js_\",\"component\",\"Object\",\"componentNormalizer\",\"__webpack_exports__\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__\",\"__webpack_require__\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default\",\"n\"],\"mappings\":\"yHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,MAAA,CAAiBE,YAAA,mBAA8B,CAAAF,EAAA,eAAA,CAAqBG,MAAA,CAAOC,KAAA,UAAAC,YAAAT,EAAAS,aAA+CC,GAAA,CAAKC,gBAAAX,EAAAY,gBAAoCR,EAAA,iBAAA,CAAuBG,MAAA,CAAOM,QAAAb,EAAAa,QAAAC,KAAAd,EAAAc,KAAAC,OAAAf,EAAAe,WAA2D,IACrVC,EAAA,4BCUAC,EAAA,CACAC,KAAA,iBACAC,WAAA,CACAC,YAAAA,EAAA,KAAAC,cAAAA,EAAA,MAEAC,KAAA,WACA,MAAA,CACAT,QAAA,KACAE,OAAA,KACAN,YAAA,GACAK,KAAA,KAGAS,QAAA,CACAX,aAAA,SAAAC,GACAZ,KAAAY,QAAAA,EACAZ,KAAAa,KAAA,IAEAU,cAAA,WAAA,IAAAC,EAAAxB,KACA,GAAA,oBAAAyB,UACAC,QAAAC,IAAA,yBACA,CACAD,QAAAC,IAAA,oBAEA,IAAAC,EAAAC,KAAAC,MAAAC,aAAAC,QAAA,SAAAC,GACAC,EAAA,qCAAAN,EAAA,MAEAF,QAAAC,IAAAO,GACA,MAAAlC,KAAAc,SACAd,KAAAc,OAAAqB,QACAnC,KAAAc,OAAA,MAEAd,KAAAc,OAAA,IAAAW,UAAAS,GAEAlC,KAAAc,OAAAsB,OAAA,WACAV,QAAAC,IAAA,iBAIA3B,KAAAc,OAAAuB,UAAA,SAAAC,GACA,IAAAjB,EAAAQ,KAAAC,MAAAQ,EAAAjB,MACAA,EAAAd,KACAiB,EAAAhB,YAAAa,EAAAb,aAEAgB,EAAAX,KAAA0B,KAAAlB,GACAK,QAAAC,IAAAH,EAAAX,QAMAb,KAAAc,OAAA0B,QAAA,WACAd,QAAAC,IAAA,iBAGA3B,KAAAc,OAAA2B,QAAA,WACAf,QAAAC,IAAA,sBAKAe,QA7DA,WA+DA1C,KAAAuB,kBC1E6WoB,EAAA,0BCQ7WC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACA7C,EACAiB,GACF,EACA,KACA,KACA,MAIegC,EAAA,WAAAH,oECnBf,IAAAI,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAA6eE,EAAG\",\"sourcesContent\":[\"var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\\\"current-session\\\"},[_c('session-list',{attrs:{\\\"type\\\":\\\"current\\\",\\\"sessionList\\\":_vm.sessionList},on:{\\\"selectedSession\\\":_vm.noticeWindow}}),_c('session-window',{attrs:{\\\"session\\\":_vm.session,\\\"msgs\\\":_vm.msgs,\\\"socket\\\":_vm.socket}})],1)}\\nvar staticRenderFns = []\\n\\nexport { render, staticRenderFns }\",\"<template>\\n\\t<div class=\\\"current-session\\\">\\n\\t\\t<session-list type=\\\"current\\\" @selectedSession=\\\"noticeWindow\\\" :sessionList=\\\"sessionList\\\"></session-list>\\n\\t\\t<session-window :session=\\\"session\\\" :msgs=\\\"msgs\\\" :socket=\\\"socket\\\"></session-window>\\n\\t</div>\\n</template>\\n\\n<script>\\n\\timport SessionList from '../components/SessionList.vue'\\n\\timport SessionWindow from '../components/SessionWindow.vue'\\n\\t\\n\\texport default{\\n\\t\\tname:\\\"CurrentSession\\\",\\n\\t\\tcomponents:{\\n\\t\\t\\tSessionList,SessionWindow\\n\\t\\t},\\n\\t\\tdata:function(){\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tsession:null,\\n\\t\\t\\t\\tsocket:null,\\n\\t\\t\\t\\tsessionList:[],\\n\\t\\t\\t\\tmsgs:[]\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tmethods:{\\n\\t\\t\\tnoticeWindow:function(session){\\n\\t\\t\\t\\tthis.session = session;\\n\\t\\t\\t\\tthis.msgs=[]\\n\\t\\t\\t},\\n\\t\\t\\tinitWebsocket:function(){\\n\\t\\t\\t\\tif(typeof(WebSocket) == \\\"undefined\\\") {\\n\\t\\t\\t\\t    console.log(\\\"您的浏览器不支持WebSocket\\\");\\n\\t\\t\\t\\t}else{\\n\\t\\t\\t\\t    console.log(\\\"您的浏览器支持WebSocket\\\");\\n\\t\\t\\t\\t    //实现化WebSocket对象，指定要连接的服务器地址与端口  建立连接\\n\\t\\t\\t\\t    var userId = JSON.parse(localStorage.getItem(\\\"user\\\")).id;\\n\\t\\t\\t\\t    var socketUrl=\\\"ws://localhost:8080/ccs/webSocket/\\\"+userId+\\\"/cs\\\";\\n\\t\\t\\t\\t    // var socketUrl=\\\"ws://192.168.0.231:22599/webSocket/\\\"+userId;\\n\\t\\t\\t\\t    console.log(socketUrl);\\n\\t\\t\\t\\t    if(this.socket!=null){\\n\\t\\t\\t\\t        this.socket.close();\\n\\t\\t\\t\\t        this.socket=null;\\n\\t\\t\\t\\t    }\\n\\t\\t\\t\\t    this.socket = new WebSocket(socketUrl);\\n\\t\\t\\t\\t    //打开事件\\n\\t\\t\\t\\t    this.socket.onopen = function() {\\n\\t\\t\\t\\t        console.log(\\\"websocket已打开\\\");\\n\\t\\t\\t\\t        //socket.send(\\\"这是来自客户端的消息\\\" + location.href + new Date());\\n\\t\\t\\t\\t    };\\n\\t\\t\\t\\t    //获得消息事件\\n\\t\\t\\t\\t    this.socket.onmessage = (resp)=>{\\n\\t\\t\\t\\t\\t\\tlet data = JSON.parse(resp.data);\\n\\t\\t\\t\\t\\t\\tif(data.type){\\n\\t\\t\\t\\t\\t\\t\\tthis.sessionList = data.sessionList;\\n\\t\\t\\t\\t\\t\\t}else{\\n\\t\\t\\t\\t\\t\\t\\tthis.msgs.push(data);\\n\\t\\t\\t\\t\\t\\t\\tconsole.log(this.msgs);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t// console.log(this.sessionList)\\n\\t\\t\\t\\t        //当接收到websocket服务器发送当消息当时候，判断消息是会话列表有更新还是会话消息有更新，更新对应当子组件\\n\\t\\t\\t\\t    };\\n\\t\\t\\t\\t    //关闭事件\\n\\t\\t\\t\\t    this.socket.onclose = function() {\\n\\t\\t\\t\\t        console.log(\\\"websocket已关闭\\\");\\n\\t\\t\\t\\t    };\\n\\t\\t\\t\\t    //发生了错误事件\\n\\t\\t\\t\\t    this.socket.onerror = function() {\\n\\t\\t\\t\\t        console.log(\\\"websocket发生了错误\\\");\\n\\t\\t\\t\\t    }\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tmounted() {\\n\\t\\t\\t// 当页面显示后，客服应该连接websocket\\n\\t\\t\\tthis.initWebsocket();\\n\\t\\t}\\n\\t}\\n</script>\\n\\n<style>\\n.current-session{\\n\\tdisplay: flex;\\n}\\n\\n\\n</style>\\n\",\"import mod from \\\"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\\\"; export default mod; export * from \\\"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\\\"\",\"import { render, staticRenderFns } from \\\"./index.vue?vue&type=template&id=d018e210&\\\"\\nimport script from \\\"./index.vue?vue&type=script&lang=js&\\\"\\nexport * from \\\"./index.vue?vue&type=script&lang=js&\\\"\\nimport style0 from \\\"./index.vue?vue&type=style&index=0&lang=css&\\\"\\n\\n\\n/* normalize component */\\nimport normalizer from \\\"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\\\"\\nvar component = normalizer(\\n  script,\\n  render,\\n  staticRenderFns,\\n  false,\\n  null,\\n  null,\\n  null\\n  \\n)\\n\\nexport default component.exports\",\"import mod from \\\"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\\\"; export default mod; export * from \\\"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\\\"\"]}","code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-6b99c7aa\"],{\"3b4e\":function(s,e,o){\"use strict\";o.r(e);var t=function(){var s=this,e=s.$createElement,o=s._self._c||e;return o(\"div\",{staticClass:\"current-session\"},[o(\"session-list\",{attrs:{type:\"current\",sessionList:s.sessionList},on:{selectedSession:s.noticeWindow}}),o(\"session-window\",{attrs:{session:s.session,msgs:s.msgs,socket:s.socket}})],1)},n=[],i=o(\"65824\"),c=o(\"8628\"),l={name:\"CurrentSession\",components:{SessionList:i[\"a\"],SessionWindow:c[\"a\"]},data:function(){return{session:null,socket:null,sessionList:[],msgs:[]}},methods:{noticeWindow:function(s){this.session=s,this.msgs=[]},initWebsocket:function(){var s=this;if(\"undefined\"==typeof WebSocket)console.log(\"您的浏览器不支持WebSocket\");else{console.log(\"您的浏览器支持WebSocket\");var e=JSON.parse(localStorage.getItem(\"user\")).id,o=\"ws://localhost:8080/ccs/webSocket/\"+e+\"/cs\";console.log(o),null!=this.socket&&(this.socket.close(),this.socket=null),this.socket=new WebSocket(o),this.socket.onopen=function(){console.log(\"websocket已打开\")},this.socket.onmessage=function(e){var o=JSON.parse(e.data);o.type?s.sessionList=o.sessionList:(s.msgs.push(o),console.log(s.msgs))},this.socket.onclose=function(){console.log(\"websocket已关闭\")},this.socket.onerror=function(){console.log(\"websocket发生了错误\")}}}},mounted:function(){this.initWebsocket()}},u=l,a=(o(\"7243\"),o(\"2877\")),r=Object(a[\"a\"])(u,t,n,!1,null,null,null);e[\"default\"]=r.exports},6386:function(s,e,o){},7243:function(s,e,o){\"use strict\";var t=o(\"6386\"),n=o.n(t);n.a}}]);","extractedComments":[]}